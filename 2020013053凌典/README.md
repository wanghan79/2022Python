# 作业汇总

## 平时作业一

- **作业要求**

  编写一个函数，生成给定个数的数据结构的随机数据，要求使用关键字参数给定数据结构，并从外部文本文件中读取相应数据结构的字典作为关键字参数传入函数

- **算法思路**

  1. 从文件中读取需要生成多少组数据，数据的类型与其范围
  2. 通过函数，将上述读取的内容转化为字典
  3. 通过解析字典，在范围内生成该类型的随机数据并返回

- **运行结果**

  ```python
  Param:  {'num': 100, 'int': {'range': (0, 1000)}, 'float': {'range': (0.0, 100.0)}, 'string': {'range': 'ASDFGHJKL123!@#$%^&*zxcvbnm', 'len': 10}}
  Result: 
  [937, 47.05583258006713, 'v%$^*$L^*D']
  [350, 79.4278492507471, 'HJ@K$23nzv']
  [786, 71.6147310377643, 'KnFF^cKxAb']
  [710, 85.62409013948316, '!zD!%SAFn&']
  [669, 92.18902712778876, '31GD&^1mAx']
  [79, 48.061965029020094, '%^@!mz*AHJ']
  [7, 19.110478578317004, 'A@LmKzbLSx']
  [625, 91.81437122502903, 'SLHz2%1bFD']
  [0, 20.980088742400994, '1L#AGbFD^1']
  # ...后续结果省略
  ```

## 平时作业二

- **作业要求**

  编写一个Python包，包里提供若干函数，再写一个py文件，通过读取文本文件中指定的函数名，能够调用该包中的函数。

- **算法思路**

  在包中编写相关函数后，在 `HW2` 中进行调用

  1. 通过读取`txt`文件，获得需要调用的函数名列表
  2. 遍历列表，从包中调用相关函数即可

- **运行结果**

  ```python
  This is function A
  This is function B
  This is function C
  This is function D
  ```

## 平时作业三

- **作业要求**

  实现2个修饰器ACC和MCC，对模拟二分类预测结果的精度和马修相关系数进行计算，其中模拟预测结果采用随机数生成函数作为被修饰函数

- **算法流程**

  1. 根据文本指定信息，生成相对应的随机数据
  2. 通过修饰器 `init` ，我们将 `TP`, `FP`, `TN`, `FN` 分别计数
  3. 在修饰器 `ACC` 中，根据 $ACC = \frac{TP + TN}{TP +TN+FP+FN}$，计算并输出 `ACC`
  4. 在修饰器 `MCC` 中，根据 $MCC = \frac{TP*TN - FP*FN}{\sqrt{(TP + FP) * (TP + FN) * (TN + FP) * (TN + FN)}}$，计算输出 `MCC`（注意分母可能为 `0` 的情况）

  通过 `cProfile` 与 `snakeviz` 分析并可视化了CPU的使用情况与每个模块的时间（`res.prof` 文件为分析输出，运行代码后可在浏览器中得到图像）

- **运行结果**

  ```python
  MCC = -0.01%
  Acc = 50.00%
  ```

  ![res](https://s2.loli.net/2022/06/20/wCuiO1q2pIWMZXN.png)

## 结课作业

- **作业要求**

  改写平时作业三，采用生成器方式生成相应随机数

- **算法流程**

  与作业三类似，但不适用函数来生成随机数据，这里使用 `Generator` 生成器类来完成随机数据的生成

  在这里，还添加了线程池，使用多线程来计算不同 `num` 值情况下的 `ACC` 与 `MCC`，并通过 `cProfile` 与 `snakeviz` 分析CPU使用情况与时间（`res.prof` 文件为分析输出，运行代码后可在浏览器中得到图像）

- **运行结果**

  ```python
  # 由于线程的运行是无序随机的，这里未使用信号量同步其输出，于是在控制台中输出是乱序的
  MCC = 20.00%
  Acc = 60.00%
  done
  MCC = 24.66%
  Acc = 60.00%
  done
  MCC = 20.18%
  Acc = 54.24%
  done
  MCC = 8.69%
  Acc = 54.24%
  done
  ```
  
  ![res](https://s2.loli.net/2022/06/20/C5lysR6OHda8GN7.png)
  
  
  
